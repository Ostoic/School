using System.Collections;
using System.Collections.Generic;
using UnityEngine;

using Classes;

namespace Spells
{
    namespace NonPlayer
    {
        public class Invulnerability : Buff
        {
            /// <summary>
            /// Invulnerability constructor.
            /// duration: 5 seconds.
            /// charges: infinite use
            /// cooldown: 30 seconds
            /// </summary>
            /// <param name="caster">The caster of the buff.</param>
            public Invulnerability(Unit caster)
                : base(caster, 5)
            {
                this.SetCooldown(0);
            }

            public Invulnerability(Unit caster, float duration)
                : base(caster, duration)
            {
                this.SetCooldown(0);
            }

            public override void Uncast()
            {
                this.GetTarget().SetInvulnerable(false);
                this.GetTarget().SetTransparent(false);
                this.SetDuration(0);
            }

            public override bool Cast(Unit target)
            {
                if (base.Cast(target))
                {
                    target.SetInvulnerable(true);
                    target.SetTransparent(true);
                    return true;
                }

                return false;
            }
        }
    }
}